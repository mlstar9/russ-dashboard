<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Agent Economic Dashboard</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: #0d1117;
      color: #e6edf3;
      min-height: 100vh;
      padding: 24px;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 32px;
      padding-bottom: 16px;
      border-bottom: 1px solid #30363d;
    }
    
    h1 {
      font-size: 24px;
      font-weight: 600;
      color: #fff;
    }
    
    .status-pill {
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .status-green { background: #238636; color: #fff; }
    .status-yellow { background: #9e6a03; color: #fff; }
    .status-red { background: #da3633; color: #fff; }
    
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 24px;
    }
    
    .card {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 12px;
      padding: 20px;
    }
    
    .card-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .card-title {
      font-size: 14px;
      color: #8b949e;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .card-value {
      font-size: 36px;
      font-weight: 700;
      color: #fff;
      margin-bottom: 8px;
    }
    
    .card-subtitle {
      font-size: 13px;
      color: #8b949e;
    }
    
    .progress-bar {
      height: 8px;
      background: #30363d;
      border-radius: 4px;
      margin-top: 12px;
      overflow: hidden;
    }
    
    .progress-fill {
      height: 100%;
      border-radius: 4px;
      transition: width 0.3s ease;
    }
    
    .progress-green { background: linear-gradient(90deg, #238636, #2ea043); }
    .progress-yellow { background: linear-gradient(90deg, #9e6a03, #d29922); }
    .progress-red { background: linear-gradient(90deg, #da3633, #f85149); }
    
    .confidence-ring {
      width: 100px;
      height: 100px;
      margin: 0 auto 16px;
      position: relative;
    }
    
    .confidence-ring svg {
      transform: rotate(-90deg);
    }
    
    .confidence-ring circle {
      fill: none;
      stroke-width: 8;
    }
    
    .confidence-bg { stroke: #30363d; }
    .confidence-fill { 
      stroke-linecap: round;
      transition: stroke-dashoffset 0.5s ease;
    }
    
    .confidence-value {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 24px;
      font-weight: 700;
    }
    
    .logic-box {
      background: #0d1117;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 16px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 13px;
      line-height: 1.6;
      color: #8b949e;
    }
    
    .logic-box .highlight {
      color: #58a6ff;
    }
    
    .log-section {
      margin-top: 24px;
    }
    
    .log-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
    }
    
    .log-title {
      font-size: 18px;
      font-weight: 600;
    }
    
    .log-table {
      width: 100%;
      border-collapse: collapse;
    }
    
    .log-table th,
    .log-table td {
      padding: 12px 16px;
      text-align: left;
      border-bottom: 1px solid #30363d;
    }
    
    .log-table th {
      background: #161b22;
      font-size: 12px;
      color: #8b949e;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: 500;
    }
    
    .log-table td {
      font-size: 13px;
    }
    
    .log-table tr:hover td {
      background: #161b22;
    }
    
    .cost-badge {
      display: inline-block;
      padding: 4px 8px;
      background: #238636;
      border-radius: 4px;
      font-size: 12px;
      font-weight: 500;
    }
    
    .cost-badge.high {
      background: #da3633;
    }
    
    .model-badge {
      display: inline-block;
      padding: 4px 8px;
      background: #30363d;
      border-radius: 4px;
      font-size: 12px;
    }
    
    .model-badge.flash { background: #1f6feb; }
    .model-badge.pro { background: #8957e5; }
    .model-badge.opus { background: #da3633; }
    
    .footer-template {
      background: #161b22;
      border: 1px solid #30363d;
      border-radius: 12px;
      padding: 20px;
      margin-top: 24px;
    }
    
    .footer-template h3 {
      font-size: 14px;
      color: #8b949e;
      margin-bottom: 12px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    
    .footer-code {
      background: #0d1117;
      border-radius: 8px;
      padding: 16px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 13px;
      line-height: 1.8;
      overflow-x: auto;
    }
    
    .footer-code .label { color: #8b949e; }
    .footer-code .value { color: #7ee787; }
    .footer-code .var { color: #ffa657; }
    
    @media (max-width: 768px) {
      .grid { grid-template-columns: 1fr; }
      .card-value { font-size: 28px; }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ü§ñ Agent Economic Dashboard</h1>
      <span class="status-pill status-green" id="system-status">System Nominal</span>
    </header>
    
    <div class="grid">
      <!-- Spending Card -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üí∞ Daily Spending</span>
        </div>
        <div class="card-value" id="spending-value">$0.12</div>
        <div class="card-subtitle">of <span id="daily-cap">$5.00</span> daily cap</div>
        <div class="progress-bar">
          <div class="progress-fill progress-green" id="spending-bar" style="width: 2.4%"></div>
        </div>
      </div>
      
      <!-- Task Budget Card -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üìã Per-Task Limit</span>
        </div>
        <div class="card-value">$0.50</div>
        <div class="card-subtitle">Max without approval</div>
        <div class="progress-bar">
          <div class="progress-fill progress-green" id="task-bar" style="width: 24%"></div>
        </div>
        <div class="card-subtitle" style="margin-top: 8px; color: #7ee787;">Current task: $0.12</div>
      </div>
      
      <!-- Confidence Card -->
      <div class="card" style="text-align: center;">
        <div class="card-header" style="justify-content: center;">
          <span class="card-title">üéØ Confidence</span>
        </div>
        <div class="confidence-ring">
          <svg width="100" height="100">
            <circle class="confidence-bg" cx="50" cy="50" r="42"/>
            <circle class="confidence-fill" cx="50" cy="50" r="42" 
                    stroke="#238636"
                    stroke-dasharray="264"
                    stroke-dashoffset="26" 
                    id="confidence-ring"/>
          </svg>
          <span class="confidence-value" id="confidence-value">90%</span>
        </div>
        <span class="status-pill status-green" id="confidence-status">High Confidence</span>
      </div>
      
      <!-- Model Usage Card -->
      <div class="card">
        <div class="card-header">
          <span class="card-title">üß† Model Selection</span>
        </div>
        <div style="display: flex; gap: 8px; flex-wrap: wrap; margin-bottom: 16px;">
          <span class="model-badge flash">Flash/Mini - Routing</span>
          <span class="model-badge">Sonnet - Analysis</span>
          <span class="model-badge pro">Pro - Synthesis</span>
        </div>
        <div class="card-subtitle">Current: <strong style="color: #1f6feb;">Gemini Flash</strong></div>
        <div class="card-subtitle" style="margin-top: 4px;">Cost: $0.0001/1K tokens</div>
      </div>
    </div>
    
    <!-- Logic Display -->
    <div class="card">
      <div class="card-header">
        <span class="card-title">üîç Current Reasoning</span>
      </div>
      <div class="logic-box">
        <span class="label">Action:</span> <span class="highlight">Processed email attachment</span><br>
        <span class="label">Source:</span> inbox/meeting-notes-feb15.pdf (snippet, 2KB)<br>
        <span class="label">Why:</span> User asked for meeting summary. Used RAG to extract action items only.<br>
        <span class="label">Model:</span> Flash for extraction ‚Üí Sonnet for summary synthesis
      </div>
    </div>
    
    <!-- Activity Log -->
    <div class="log-section">
      <div class="log-header">
        <span class="log-title">üìú Activity Log</span>
      </div>
      <div class="card" style="padding: 0; overflow: hidden;">
        <table class="log-table">
          <thead>
            <tr>
              <th>Time</th>
              <th>Task</th>
              <th>Model</th>
              <th>Cost</th>
              <th>Confidence</th>
              <th>Source</th>
            </tr>
          </thead>
          <tbody id="log-body">
            <tr>
              <td>02:24</td>
              <td>Email summary</td>
              <td><span class="model-badge flash">Flash</span></td>
              <td><span class="cost-badge">$0.02</span></td>
              <td>95%</td>
              <td>inbox/meeting-notes.pdf</td>
            </tr>
            <tr>
              <td>02:18</td>
              <td>Slack roast</td>
              <td><span class="model-badge">Sonnet</span></td>
              <td><span class="cost-badge">$0.08</span></td>
              <td>88%</td>
              <td>#nova2-ai-playground</td>
            </tr>
            <tr>
              <td>02:10</td>
              <td>SOUL.md update</td>
              <td><span class="model-badge flash">Flash</span></td>
              <td><span class="cost-badge">$0.01</span></td>
              <td>100%</td>
              <td>SOUL.md</td>
            </tr>
            <tr>
              <td>01:45</td>
              <td>Heartbeat tick</td>
              <td><span class="model-badge flash">Flash</span></td>
              <td><span class="cost-badge">$0.01</span></td>
              <td>100%</td>
              <td>life/state.json</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    
    <!-- Log Footer Template -->
    <div class="footer-template">
      <h3>üìã Required Log Footer Format</h3>
      <div class="footer-code">
        <span class="label">---</span><br>
        <span class="label">Cost:</span> <span class="var">$[Amount]</span><br>
        <span class="label">Confidence:</span> <span class="var">[0-100]%</span><br>
        <span class="label">Source:</span> <span class="var">[File/Email used]</span><br>
        <span class="label">Reasoning:</span> <span class="var">[1-sentence "why"]</span><br>
        <span class="label">---</span>
      </div>
    </div>
    
    <!-- Protocol Summary -->
    <div class="card" style="margin-top: 24px;">
      <div class="card-header">
        <span class="card-title">‚ö° Economic Protocol</span>
      </div>
      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px;">
        <div>
          <div style="color: #8b949e; font-size: 12px; margin-bottom: 4px;">BUDGET FIRST</div>
          <div style="font-size: 14px;">$0.50 max per task</div>
        </div>
        <div>
          <div style="color: #8b949e; font-size: 12px; margin-bottom: 4px;">MODEL CHOICE</div>
          <div style="font-size: 14px;">Cheapest viable model</div>
        </div>
        <div>
          <div style="color: #8b949e; font-size: 12px; margin-bottom: 4px;">MINIMAL CONTEXT</div>
          <div style="font-size: 14px;">RAG snippets > full files</div>
        </div>
        <div>
          <div style="color: #8b949e; font-size: 12px; margin-bottom: 4px;">PEER REVIEW</div>
          <div style="font-size: 14px;">Veto redundant prompts</div>
        </div>
      </div>
    </div>
  </div>
  
  <script>
    // Demo: Update values dynamically
    function updateConfidence(value) {
      const ring = document.getElementById('confidence-ring');
      const valueEl = document.getElementById('confidence-value');
      const statusEl = document.getElementById('confidence-status');
      
      const circumference = 264;
      const offset = circumference - (value / 100) * circumference;
      ring.style.strokeDashoffset = offset;
      valueEl.textContent = value + '%';
      
      if (value >= 80) {
        ring.style.stroke = '#238636';
        statusEl.className = 'status-pill status-green';
        statusEl.textContent = 'High Confidence';
      } else if (value >= 50) {
        ring.style.stroke = '#d29922';
        statusEl.className = 'status-pill status-yellow';
        statusEl.textContent = 'Medium Confidence';
      } else {
        ring.style.stroke = '#da3633';
        statusEl.className = 'status-pill status-red';
        statusEl.textContent = 'Low Confidence';
      }
    }
    
    function updateSpending(current, cap) {
      const percent = (current / cap) * 100;
      const bar = document.getElementById('spending-bar');
      const value = document.getElementById('spending-value');
      
      value.textContent = '$' + current.toFixed(2);
      bar.style.width = percent + '%';
      
      if (percent < 50) {
        bar.className = 'progress-fill progress-green';
      } else if (percent < 80) {
        bar.className = 'progress-fill progress-yellow';
      } else {
        bar.className = 'progress-fill progress-red';
      }
    }
    
    // Initialize
    updateConfidence(90);
    updateSpending(0.12, 5.00);
  </script>
</body>
</html>
